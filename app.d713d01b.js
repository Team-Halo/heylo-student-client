(function(e){function t(t){for(var i,o,a=t[0],c=t[1],u=t[2],d=0,f=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&f.push(s[o][0]),s[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},s={app:0},r=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0e8f":function(e,t,n){},"0e9c":function(e,t,n){"use strict";n("626c")},1771:function(e,t,n){var i={"./arrows_left.svg":"8d40","./arrows_right.svg":"349c","./camera.png":"c0b1","./confused.svg":"d4eb","./interested.svg":"5903","./logo.png":"cf05","./oldcamera.png":"6b25","./sleepy.svg":"3a51"};function s(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=r,e.exports=s,s.id="1771"},"27b6":function(e,t,n){"use strict";n("0e8f")},"349c":function(e,t,n){e.exports=n.p+"img/arrows_right.c9ab9380.svg"},"3a51":function(e,t,n){e.exports=n.p+"img/sleepy.61a6ee74.svg"},"561d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"},on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave}},[n("vue-web-cam",{ref:"webcam",attrs:{selectFirstDevice:!0}}),n("div",{attrs:{id:"grid"}},[n("camera",{attrs:{id:"camera"},on:{camera:e.camera}}),null!==e.question.id?n("question",{attrs:{id:"question",questionText:e.question.text}}):e._e(),e.sessionInit?e._e():n("emoji-bar",{attrs:{id:"emoji"},on:{click:e.emojiClick}}),e.sessionInit?n("session-input",{attrs:{id:"input"},on:{session:e.connect}}):e._e()],1)],1)},r=[],o=(n("caad"),n("d3b7"),n("2532"),n("ddb0"),n("96cf"),n("1da1")),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("button",{staticClass:"icon-button",on:{click:e.click}},[i("img",{attrs:{alt:"camera",width:"60",height:"60",src:n("c0b1")}}),i("span",[e._v(e._s(e.isCameraOn?"On":"Off"))])])])},c=[],u={name:"Camera",components:{},data:function(){return{isCameraOn:!0}},methods:{click:function(){this.isCameraOn=!this.isCameraOn,this.$emit("camera",this.isCameraOn)}}},l=u,d=(n("cd66"),n("2877")),f=Object(d["a"])(l,a,c,!1,null,"d4b71b40",null),m=f.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",[n("li",[n("emoji-button",{attrs:{imgSrc:"arrows_left.svg",text:"slower"},on:{click:e.click}})],1),n("li",[n("emoji-button",{attrs:{imgSrc:"arrows_right.svg",text:"faster"},on:{click:e.click}})],1),n("li",[n("emoji-button",{attrs:{imgSrc:"interested.svg",text:"interested"},on:{click:e.click}})],1),n("li",[n("emoji-button",{attrs:{imgSrc:"sleepy.svg",text:"sleepy"},on:{click:e.click}})],1),n("li",[n("emoji-button",{attrs:{imgSrc:"confused.svg",text:"confused"},on:{click:e.click}})],1)])])},h=[],b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("button",{class:e.bounce?"bounce":null,on:{click:e.click}},[i("img",{attrs:{src:n("1771")("./"+e.imgSrc),text:"slower",alt:e.text}})])])},v=[],g={name:"EmojiButton",props:{imgSrc:String,text:String},data:function(){return{bounce:!1}},methods:{click:function(){var e=this;this.bounce=!0,setTimeout((function(){return e.bounce=!1}),1100),this.$emit("click",this.text)}}},x=g,y=(n("9e24"),Object(d["a"])(x,b,v,!1,null,"028c5d6f",null)),k=y.exports,C={name:"EmojiBar",components:{EmojiButton:k},methods:{click:function(e){this.$emit("click",e)}}},w=C,j=(n("a670"),Object(d["a"])(w,p,h,!1,null,"789c2960",null)),I=j.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"outer"},[n("div",{staticClass:"inner"},[n("b",[e._v(e._s(e.questionText))])])])},_=[],q={name:"Question",props:{questionText:String}},$=q,S=(n("0e9c"),Object(d["a"])($,O,_,!1,null,"4321a717",null)),R=S.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"session-input"}},[n("div",{staticClass:"inner"},[n("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.validateSession(t)}}},[n("div",{staticClass:"form-input"},[n("md-field",{staticClass:"input-area",class:e.getValidationClass("sessionId")},[n("label",{attrs:{for:"sessionId"}},[e._v("Session ID")]),n("md-input",{attrs:{name:"sessionId",id:"sessionId"},model:{value:e.form.sessionId,callback:function(t){e.$set(e.form,"sessionId",t)},expression:"form.sessionId"}}),e.$v.form.sessionId.required?e.$v.form.sessionId.maxLength?e.$v.form.sessionId.minLength?e._e():n("span",{staticClass:"md-error"},[e._v("The session ID is too short")]):n("span",{staticClass:"md-error"},[e._v("The session ID is too long")]):n("span",{staticClass:"md-error"},[e._v("The session ID cannot be empty")])],1),n("md-button",{staticClass:"md-primary button-area",attrs:{type:"submit"}},[e._v("Connect")])],1)])])])},E=[],D=n("1dce"),P=n("b5ae"),L={name:"SessionInput",mixins:[D["validationMixin"]],data:function(){return{form:{sessionId:null}}},validations:{form:{sessionId:{required:P["required"],minLength:Object(P["minLength"])(5),maxLength:Object(P["maxLength"])(30)}}},created:function(){this.form.sessionId=this.$parent.$data.sessionId},methods:{getValidationClass:function(e){var t=this.$v.form[e];if(t)return{"md-invalid":t.$invalid&&t.$dirty}},clearForm:function(){this.$v.$reset(),this.form.sessionId=null},saveId:function(){this.$emit("session",this.form.sessionId)},validateSession:function(){this.$v.$touch(),this.$v.$invalid||this.saveId()}}},M=L,Q=(n("27b6"),Object(d["a"])(M,T,E,!1,null,"8114d5bc",null)),W=Q.exports,H=n("260b"),A=(n("66ce"),{apiKey:"AIzaSyAdO0skVkzAcT1OP9M7Su_aH0R1jLtvJnU",authDomain:"heylo-69ae3.firebaseapp.com",databaseURL:"https://heylo-69ae3-default-rtdb.firebaseio.com",projectId:"heylo-69ae3",storageBucket:"heylo-69ae3.appspot.com",messagingSenderId:"391710873875",appId:"1:391710873875:web:62be326457c689dc15e2e6",measurementId:"G-4ZCJ3Z7CP3"});H["a"].initializeApp(A);var B=H["a"].database(),U={questions:["Click something!","Give me some response!"],randomQuestion:function(){return this.questions[Math.floor(Math.random()*this.questions.length)]}};function F(e){return J.apply(this,arguments)}function J(){return J=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}var z={name:"App",components:{EmojiBar:I,Camera:m,Question:R,SessionInput:W},data:function(){return{question:{id:null,text:null},reactedQuestions:[],sessionId:null,sessionInit:!0,inClient:!1,mousein:!1,cameraOn:!0}},created:function(){if(window.sleepy=this.sleepy,"undefined"!=typeof CefSharp){var e=this;Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.inClient=!0,t.next=3,CefSharp.BindObjectAsync("heyloClient","bound");case 3:heyloClient.increaseWidth(),heyloClient.decreaseHeight();case 5:case"end":return t.stop()}}),t)})))()}var t=B.ref().child("sessions").push().key;this.sessionId=t;var n={};n["/sessions/"+t]={reactions:[]},B.ref().update(n)},methods:{camera:function(e){this.cameraOn=e,console.log(this.$refs.webcam.capture())},sleepy:function(){this.prompt("You look sleepy today!")},frowning:function(){this.prompt("Finding it hard to catch up? Tell the teacher!")},happy:function(){this.prompt("Enjoying the lesson? Give some feedback!")},prompt:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.sessionInit){n.next=2;break}return n.abrupt("return");case 2:if(null===t.question.id){n.next=4;break}return n.abrupt("return");case 4:if(t.question.id=0,t.question.text=e,!t.inClient){n.next=11;break}return heyloClient.increaseWidth(),n.next=10,F(1e3);case 10:heyloClient.increaseHeight();case 11:setTimeout(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.question.id!==n){e.next=10;break}if(sendReaction("sleepy"),t.question.id=null,t.question.text=null,!t.inClient){e.next=10;break}if(heyloClient.decreaseHeight(),t.mousein){e.next=10;break}return e.next=9,F(1e3);case 9:heyloClient.decreaseWidth();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),12e4,0);case 12:case"end":return n.stop()}}),n)})))()},connect:function(e){var t=this;this.sessionId=e,this.sessionInit=!1,this.sendReaction("connect");var n=B.ref("sessions/"+this.sessionId+"/questions");n.on("value",(function(e){var n=e.val();t.onQuestionUpdate(n)}))},onQuestionUpdate:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var i,s,r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=+new Date,!t.question.id){n.next=15;break}for(r in s=!1,e)t.question.id===r&&(s=!0);if(s){n.next=13;break}if(t.quesiton.id=null,t.question.text=null,!t.inClient){n.next=13;break}if(heyloClient.decreaseHeight(),t.mousein){n.next=13;break}return n.next=12,F(1e3);case 12:heyloClient.decreaseWidth();case 13:n.next=30;break;case 15:n.t0=regeneratorRuntime.keys(e);case 16:if((n.t1=n.t0()).done){n.next=30;break}if(a=n.t1.value,t.reactedQuestions.includes(a)){n.next=28;break}if(!(i-e[a].timestamp<6e4)){n.next=28;break}if(t.question.id=a,t.question.text=U.randomQuestion(),!t.inClient){n.next=27;break}return heyloClient.increaseWidth(),n.next=26,F(1e3);case 26:heyloClient.increaseHeight();case 27:setTimeout(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.question.id!==n){e.next=10;break}if(t.sendReaction("idle"),t.question.id=null,t.question.text=null,!t.inClient){e.next=10;break}if(heyloClient.decreaseHeight(),t.mousein){e.next=10;break}return e.next=9,F(1e3);case 9:heyloClient.decreaseWidth();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),12e4,a);case 28:n.next=16;break;case 30:case"end":return n.stop()}}),n)})))()},mouseenter:function(){this.mousein=!0,this.inClient&&!this.sessionInit&&null===this.question.id&&heyloClient.increaseWidth()},mouseleave:function(){this.mousein=!1,this.inClient&&!this.sessionInit&&null===this.question.id&&heyloClient.decreaseWidth()},sendReaction:function(e){var t=B.ref("sessions/".concat(this.sessionId,"/reactions")).push().key,n={};n[t]={reaction:e,question:this.question.id,timestamp:+new Date},B.ref("sessions/".concat(this.sessionId,"/reactions/")).update(n)},emojiClick:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.sendReaction(e),!t.question.id){n.next=11;break}if(t.reactedQuestions.push(t.question.id),t.question.id=null,t.question.text=null,!t.inClient){n.next=11;break}if(heyloClient.decreaseHeight(),t.mousein){n.next=11;break}return n.next=10,F(1e3);case 10:heyloClient.decreaseWidth();case 11:case"end":return n.stop()}}),n)})))()}}},G=z,V=(n("9f79"),Object(d["a"])(G,s,r,!1,null,"eb82dd42",null)),N=V.exports,Z=n("43f9"),K=n.n(Z),Y=n("b3cb"),X=n.n(Y);n("51de"),n("e094");i["default"].use(K.a),i["default"].use(X.a),i["default"].config.productionTip=!1,new i["default"]({render:function(e){return e(N)}}).$mount("#app")},5903:function(e,t,n){e.exports=n.p+"img/interested.e6f39e29.svg"},"626c":function(e,t,n){},6340:function(e,t,n){},"6b25":function(e,t,n){e.exports=n.p+"img/oldcamera.a5a78493.png"},"8d40":function(e,t,n){e.exports=n.p+"img/arrows_left.a9fbf7a7.svg"},"99d9":function(e,t,n){},"9e24":function(e,t,n){"use strict";n("99d9")},"9f79":function(e,t,n){"use strict";n("561d")},a670:function(e,t,n){"use strict";n("6340")},c0b1:function(e,t,n){e.exports=n.p+"img/camera.f3a3fe8b.png"},cd66:function(e,t,n){"use strict";n("d77b")},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},d4eb:function(e,t,n){e.exports=n.p+"img/confused.d9bf7e1c.svg"},d77b:function(e,t,n){}});
//# sourceMappingURL=app.d713d01b.js.map